(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/camera/home"],{2425:function(t,e,a){},2965:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{radio:"",src:"",modalName:"",radio2:"radio0",defaultValue:"shanghai",details:[],detailsType:[{keyword:"上海分类",value:"shanghai"},{keyword:"北京分类",value:"beijing"}],CustomBar:this.CustomBar,windowHeight:this.windowHeight}},computed:{bottom:function(){return t.upx2px(100)+t.upx2px(30)+"px"},halfHeight:function(){return"100%"},height:function(){return t.upx2px(100)+"px"}},methods:{RadioChangeType:function(t){this.defaultValue=t.detail.value},RadioChange:function(e){this.radio=e.detail.value,this.modalName=null,t.navigateTo({url:"../search/home?type="+this.defaultValue+"&value="+this.radio})},takePhoto:function(){var e=this,a=t.createCameraContext();a.takePhoto({quality:"normal",success:function(a){e.src=a.tempImagePath,wx.getFileSystemManager().readFile({filePath:a.tempImagePath,encoding:"base64",success:function(a){t.request({url:"https://www.waterbearking.com/tencent/picAi",data:{url:a.data},method:"POST",success:function(t){200==t.statusCode&&(console.log(t),e.details=t.data.result,e.modalName="RadioModal")},fail:function(t,e){console.log("fail"+JSON.stringify(t))}})},fail:function(t){wx.hideLoading(),wx.showToast({title:"拍照失败,未获取相机权限或其他原因",icon:"none"})}})}})},takePhoto2:function(){this.src=""},toCamera:function(){t.chooseImage({count:6,sizeType:["original","compressed"],sourceType:["album"],success:function(t){console.log(JSON.stringify(t.tempFilePaths))}})},error:function(t){console.log(t.detail)}}};e.default=a}).call(this,a("543d")["default"])},"50ab":function(t,e,a){"use strict";a.r(e);var i=a("9f35"),o=a("c6f1");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);a("b2c2");var n=a("2877"),c=Object(n["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},"9f35":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"fixed"},[a("cu-custom",{attrs:{isBack:!0,bgColor:"bg-gradual-blue text-white",mpcomid:"26f60f5e-0"}},[a("block",{slot:"content"},[t._v("图像识别")])],1)],1),a("view",{staticClass:"camera "},[0==t.src.length?a("camera",{style:[{height:t.halfHeight}],attrs:{"device-position":"back",flash:"auto",eventid:"26f60f5e-2",mpcomid:"26f60f5e-3"},on:{error:t.error}},[a("cover-view",{staticClass:"buttons",style:[{width:t.height},{height:t.height}],attrs:{eventid:"26f60f5e-0",mpcomid:"26f60f5e-2"},on:{click:t.takePhoto}},[a("cover-image",{staticClass:"photos-box",attrs:{mode:"widthFix",src:"../../static/carame.png",mpcomid:"26f60f5e-1"}})],1)],1):a("view",{style:[{height:t.halfHeight}]},[a("view"),a("image",{staticClass:"drawImage",attrs:{src:t.src}}),a("view",{staticClass:"buttons",style:[{width:"50px"},{height:"50px"}],attrs:{eventid:"26f60f5e-1"},on:{click:t.takePhoto2}},[a("image",{staticClass:"photos-box",attrs:{mode:"widthFix",src:"../../static/carame.png"}})])]),a("view",{staticClass:"cu-modal",class:"RadioModal"==t.modalName?"show":""},[a("view",{staticClass:"cu-dialog",attrs:{eventid:"26f60f5e-4"},on:{tap:function(t){t.stopPropagation()}}},[a("radio-group",{staticClass:"block",attrs:{eventid:"26f60f5e-3",mpcomid:"26f60f5e-4"},on:{change:t.RadioChange}},[a("view",{staticClass:"cu-list menu text-left"},t._l(t.details,function(e,i){return a("view",{key:i,staticClass:"cu-item"},[a("label",{staticClass:"flex justify-between align-center flex-sub"},[a("view",{staticClass:"flex-sub"},[t._v(t._s(e.keyword))]),a("radio",{staticClass:"round",class:t.radio=="radio"+i?"checked":"",attrs:{checked:t.radio=="radio"+i,value:e.keyword}})],1)],1)}))])],1)])],1)])},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},b2c2:function(t,e,a){"use strict";var i=a("2425"),o=a.n(i);o.a},c6f1:function(t,e,a){"use strict";a.r(e);var i=a("2965"),o=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=o.a},df37:function(t,e,a){"use strict";a("cc19");var i=s(a("b0ce")),o=s(a("50ab"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(o.default))}},[["df37","common/runtime","common/vendor"]]]);